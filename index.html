<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Project Bond</title>
    <style>

        /* A 60 pixel reduction is needed when calculating the width and height to include the border */
        :root{
            --compulsoryWidth: 1320px;
            --compulsoryHeight: 660px;
            --screenWidth: 100%;
            --screenHeight: 100%;
        }

        .border {
            border-width: calc(calc(100vw - var(--compulsoryWidth))/2) ;
            border-bottom: calc(calc(100vh - var(--compulsoryHeight))/2);
            border-top: calc(calc(100vh - var(--compulsoryHeight))/2);
            border-style: solid;
            border-color: white;
            width: 1320px;
            height: 660px;

        }

        .mainScreen{
            float: left;
            border-width:2px;
            border-color: black;
            border-style: solid;
            border-right: 0;
            width: 658px;
            height: 656px;
            background: #ffffff;
        }

        .sideBar{
            float: left;
            height: 660px;
            width: 660px;
        }

        .programNameBar{
            float: top;
            height: 90px;
            width: 660px;
        }

        .periodicTable{
            height: 450px;
            background: #ffffff;
        }

        .bottomBar{
            height: 180px;
            width: 660px;
        }

        .optionsBar{

            float: left;
            border-width: 2px;
            border-right:1px;
            border-top: 0;
            border-color: black;
            border-style: solid;
            width: 327px;
            height: 118px;
            background: white;
        }

        .infoBar{
            float: right;
            border-width: 2px;
            border-left: 1px;
            border-style: solid;
            border-color: black;
            border-top: 0;
            height: 118px;
            width: 327px;
            background: white;
        }

    </style>
</head>
<body>
<body style="margin: 0;">
<div class = "border">
    <div class = "mainScreen">
        <!-- <img src> here when image is designed -->

    </div>
    <div class = "sideBar">
        <!-- <img src> here when image is designed-->
        <div class = "programNameBar">
            <img src="Resources/Program Bar.jpg">
        </div>
        <div class="periodicTable">
            <img src="Resources/Periodic Table.jpg">
        </div>
        <div class="bottomBar">
            <div class="optionsBar">

            </div>
            <div class="infoBar">

            </div>
        </div>
    </div>
</div>
</body>
<script type="text/javascript">
    class Compound
    {}

    class IonicCompound extends Compound
    {
        constructor(atoms, mp, bp)
        {
            super();
            //Define all varibales for class here with this.[variableName]
            this.atoms = atoms;
            this.mp = mp;
            this.bp = bp;
            this.state = "SOLID";
            this.conductor = false;
            this.waterSoluble = true;
        }

        changeState(newState)
        {
            this.state = newState;
            this.conductor = (this.state === "LIQUID" || this.state === "AQUEOUS");
        }
    }

    class CovalentCompound extends Compound
    {
        constructor(atoms, mp, bp, waterSoluble)
        {
            super();
            this.atoms = atoms;
            this.mp = mp;
            this.bp = bp;
            this.state = "SOLID";
            this.conductor = false;
            this.waterSoluble = waterSoluble;
        }

        changeState(newState)
        {
            if (newState !== "AQUEOUS" && !this.waterSoluble)
            {
                this.state = newState;
            }
        }
    }

    class Reaction
    {
        constructor(reactants,products,currentCompound,property,requiredCondition)
        {
            let currentCompounds = currentCompound;
            let willReact = false;
            switch(typeof property)
            {
                case "boolean":
                    willReact = property === requiredCondition;
                    break;
                case "number":
                    willReact = eval(property.toString() + requiredCondition);
                    break;
                default:
                    console.log(typeof property);
                    break;
            }

            if (willReact)
            {
                for (let i = 0; i<reactants.length;i++)
                {
                    if (currentCompounds.find(function() {return reactants[i]}) !== undefined)
                    {

                        currentCompounds.splice(i);
                    }
                }

                for (let i =0; i<products.length;i++)
                {
                    if(currentCompounds.find(function(element) {return element === products[i]}) === undefined)
                    {
                        currentCompounds.push(products[i]);
                    }
                }
            this.currentCompounds = currentCompounds;
            console.log(this.currentCompounds)


            }
        }

    }

    var possibleCompounds = //TODO: Add waterSoluble
        {
            ["NaH"]: new IonicCompound(["Na","H"], 300, Infinity),
            ["NaCl"]: new IonicCompound(["Na","Cl"],801,1465),
            ["HCl"]: new CovalentCompound(["H","Cl"],-114,-85,true),
            ["MgO"]:new IonicCompound(["Mg","O"],2825,3600),
            ["H2"] : new CovalentCompound(["H","H"],-259,-252,false),
            ["O2"] : new CovalentCompound(["O","O"],-219,-183,false),
            ["Cl2"] : new CovalentCompound(["Cl","Cl"],-102,-34,false)
        };

    var currentCompounds = [];
    var temperature = 25;
    var current = 0;
    var UV = false;
    var waterEnvironment = false;
    var possibleReactions =
        [
            new Reaction(["H2","O2"],["H2O"],currentCompounds,temperature,">300"),
            new Reaction(["H2O"],["H2","O2"],currentCompounds,current,">20"),
            new Reaction(["Cl2","H2"],["HCl"],currentCompounds, UV,true),
            new Reaction(["MgO","H2O"],["MgOH2"],currentCompounds,waterEnvironment, true),
            new Reaction(["MgOH2"],["Mg","H2O"], currentCompounds,temperature, ">100"),
            new Reaction(["Mg","O"],["MgO"],currentCompounds,temperature,">50"),
            new Reaction(["NaCl"],["NaOH","Cl2","H2"], currentCompounds,current,">20"),
        ];

    var NaCl = new IonicCompound(["Na", "Cl"], 801, 1413);
    console.log(NaCl)
</script>
</body>
</html>

